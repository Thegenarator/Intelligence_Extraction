services:
  - type: web
    name: intelligence-extraction
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn app.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: API_KEY
        sync: false
      - key: SERVICE_NAME
        value: agentic-honeypot
      # PORT is automatically set by Render, no need to configure
      - key: SCAM_THRESHOLD
        value: 0.35
      - key: HARVEST_HINT_THRESHOLD
        value: 0.55
      - key: LLM_TIMEOUT
        value: 8.0
      - key: MAX_TURNS
        value: 16
      - key: STATE_TTL_SECONDS
        value: 7200
      # Optional: Add these in Render dashboard if you want LLM features
      # - key: OPENAI_API_KEY
      #   sync: false
      # - key: DETECTOR_MODEL
      #   value: gpt-4o-mini
      # - key: AGENT_MODEL
      #   value: gpt-4o-mini

